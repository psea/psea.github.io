(this["webpackJsonp3-in-a-row"]=this["webpackJsonp3-in-a-row"]||[]).push([[0],[,,,,,,,,,,,,function(n,e,t){},function(n,e,t){},,function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){},function(n,e,t){"use strict";t.r(e);var r=t(2),c=t.n(r),a=t(7),i=t.n(a),o=(t(12),t(4)),u=t(1);function s(n){return JSON.parse(JSON.stringify(n))}function l(n){for(var e=n.length-1;e>0;e--){var t=Math.floor(Math.random()*(e+1)),r=[n[t],n[e]];n[e]=r[0],n[t]=r[1]}}function f(n){return n.reduce((function(n,e){return Math.max(e.variant,n)}),0)+1}function d(){for(var n=arguments.length>0&&void 0!==arguments[0]?arguments[0]:3,e=[],t=0;t<n;t++)for(var r=0;r<3;r++)e.push({open:!1,variant:t});return l(e),e}function j(n,e){return n.filter((function(n){return n.variant===e})).every((function(n){return n.open}))}function h(n,e){return(n=Object(u.a)(n)).reduce((function(n,e){return n+e.score}),0)===e?(n.sort((function(n,e){return e.score-n.score})),n[0].score===n[1].score?"a tie":n[0].name):null}t(13);var b=t(0);var v=function(n){var e=Object(b.jsx)("div",{className:"stacked-linear-background"});return Object(b.jsx)("div",{className:"card",onClick:function(){return n.onClick(n.cardIndex)},children:n.open?n.children:e})};t(15);var O=function(n){var e={gridTemplateColumns:"repeat(".concat(Math.sqrt(n.children.length).toPrecision(1),", 1fr)")};return Object(b.jsx)("div",{className:"board",style:e,children:n.children})};t(16);var m=function(n){return Object(b.jsxs)("div",{className:"player "+(n.active?"highlightPlayer":""),children:[Object(b.jsx)("input",{type:"text",value:n.name,minLength:"1",maxLength:"10",size:"6",onChange:n.onChange})," : ",n.score]})};t(17);var g=function(n){return Object(b.jsx)("div",{className:"leaders-table",children:n.children})};t(18);var p=function(n){return Object(b.jsx)("div",{className:"banner",children:n.name?"win: "+n.name+"\ud83c\udf89":""})};t(19);function x(n){var e=Object(u.a)(Array(79).keys()).map((function(n){return String.fromCodePoint(128512+n)}));return l(e),e}var y=function(){var n=Object(r.useState)(d(4)),e=Object(o.a)(n,2),t=e[0],c=e[1],a=Object(r.useState)(x()),i=Object(o.a)(a,2),l=i[0],y=i[1],S=Object(r.useState)([{name:"Player 1",score:0,hasTurn:!0},{name:"Player 2",score:0,hasTurn:!1}]),w=Object(o.a)(S,2),T=w[0],N=w[1],C=Object(r.useState)([]),I=Object(o.a)(C,2),k=I[0],J=I[1];function P(n){if(!t[n].open){var e={cards:s(t),players:s(T)};J(k.concat(e));var r=function(n,e){return(n=Object(u.a)(n))[e].open=!0,n}(t,n);c(r),function(n){n=Object(u.a)(n);var e=Array.from({length:f(n)},(function(n,e){return e})).filter((function(e){return!j(n,e)})),t=n.filter((function(n){return n.open&&e.includes(n.variant)}));return!t.every((function(n){return n.variant===t[0].variant}))}(r)&&(N(function(n){var e=(n=Object(u.a)(n)).findIndex((function(n){return n.hasTurn}));return n[e].hasTurn=!1,n[(e+1)%n.length].hasTurn=!0,n}(T)),window.setTimeout((function(){c(function(n){n=Object(u.a)(n);var e=Array.from({length:n.length/2},(function(n,e){return e})).filter((function(e){return!j(n,e)}));return n.forEach((function(n){n.open=!e.includes(n.variant)})),n}(t))}),500)),j(r,r[n].variant)&&N(function(n){return(n=Object(u.a)(n))[function(n){return n.findIndex((function(n){return n.hasTurn}))}(n)].score++,n}(T))}}function F(n,e){N(function(n,e,t){return(n=Object(u.a)(n))[e].name=t,n}(T,e,n.target.value))}Object(r.useEffect)((function(){c(JSON.parse(window.localStorage.getItem("cards"))||d(4)),y(JSON.parse(window.localStorage.getItem("emoji"))||x()),N(JSON.parse(window.localStorage.getItem("players"))||[{name:"Player 1",score:0,hasTurn:!0},{name:"Player 2",score:0,hasTurn:!1}])}),[]),Object(r.useEffect)((function(){window.localStorage.setItem("cards",JSON.stringify(t)),window.localStorage.setItem("emoji",JSON.stringify(l)),window.localStorage.setItem("players",JSON.stringify(T))}),[t,T,l]);var E=T.map((function(n,e){return Object(b.jsx)(m,{active:n.hasTurn,name:n.name,score:n.score,onChange:function(n){return F(n,e)}},e)})),M=t.map((function(n,e){return Object(b.jsx)(v,{cardIndex:e,open:n.open,onClick:P,children:Object(b.jsx)("div",{children:l[n.variant]})},e)}));return Object(b.jsxs)(b.Fragment,{children:[Object(b.jsx)("header",{children:"Turn over 3 cards. Find 3 matches - get a score!"}),Object(b.jsxs)("main",{children:[Object(b.jsxs)("div",{children:[Object(b.jsx)(g,{children:E}),Object(b.jsxs)("div",{className:"button-bar",children:[Object(b.jsx)("button",{onClick:function(){c(d(4)),y(x()),N(function(n){return(n=Object(u.a)(n)).forEach((function(n){n.score=0,n.hasTurn=!1})),n[0].hasTurn=!0,n}(T)),J([])},children:"Restart"}),Object(b.jsx)("button",{onClick:function(){k.length>0&&(c(k[k.length-1].cards),N(k[k.length-1].players),J(k.slice(0,-1)))},children:"Undo"})]}),Object(b.jsx)(p,{name:h(T,f(t))})]}),Object(b.jsx)("div",{children:Object(b.jsx)(O,{children:M})})]})]})},S=function(n){n&&n instanceof Function&&t.e(3).then(t.bind(null,21)).then((function(e){var t=e.getCLS,r=e.getFID,c=e.getFCP,a=e.getLCP,i=e.getTTFB;t(n),r(n),c(n),a(n),i(n)}))};i.a.render(Object(b.jsx)(c.a.StrictMode,{children:Object(b.jsx)(y,{})}),document.getElementById("root")),S()}],[[20,1,2]]]);
//# sourceMappingURL=main.795bf680.chunk.js.map